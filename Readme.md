# FACADE-SERVICE
  
**FACADE-SERVICE** является микросервисом роутинга запросов между фронтендом и микросервисами [golos.io](https://golos.io).
Для работы сервису необходим совместимый фронтенд-гейт, осуществляющий конечное общение с фронтендом и авторизацию входящих запросов.

*(детальное описание появится по факту появления первой рабочей версии микросервиса)*


### Переменные окружения

Возможные переменные окружения `ENV`:

  - `GLS_FRONTEND_GATE_CONNECT` *(обязательно)* - адрес подключения к микросервису фронтенд-гейту.

  - `GLS_NOTIFY_ONLINE_CONNECT` *(обязательно)* - адрес подключения к микросервису онлайн нотификаций.

  - `GLS_NOTIFY_REGISTRATOR_CONNECT` *(обязательно)* - адрес подключения к микросервису регистрации нотификаций.

  - `GLS_OPTIONS_CONNECT` *(обязательно)* - адрес подключения к микросервису настроек.

  - `GLS_PUSH_CONNECT` *(обязательно)* - адрес подключения к микросервису рассылки push-уведомлений.

  - `GLS_MAIL_CONNECT` *(обязательно)* - адрес подключения к микросервису рассылки писем.
    
  - `GLS_GATE_HOST` *(обязательно)* - адрес, который будет использован для входящих подключений связи микросервисов.  
   Дефолтное значение при запуске без докера - `127.0.0.1`
    
  - `GLS_GATE_PORT` *(обязательно)* - адрес порта, который будет использован для входящих подключений связи микросервисов.  
   Дефолтное значение при запуске без докера - `8080`, пересекается с `GLS_FRONTEND_GATE_PORT`
    
  - `GLS_METRICS_HOST` *(обязательно)* - адрес хоста для метрик StatsD.  
   Дефолтное значение при запуске без докера - `127.0.0.1`
          
  - `GLS_METRICS_PORT` *(обязательно)* - адрес порта для метрик StatsD.  
   Дефолтное значение при запуске без докера - `8125`
    
  - `GLS_MONGO_CONNECT` - строка подключения к базе MongoDB.  
   Дефолтное значение - `mongodb://mongo/admin`
    
  - `GLS_DAY_START` - время начала нового дня в часах относительно UTC.
   Дефолтное значение - `3` (день начинается в 00:00 по Москве).
   
### Запуск

Для запуска достаточно вызвать команду `docker-compose up` в корне проекта, предварительно указав необходимые `ENV` переменные.    
